<div class="container mt-4">
  <h3>User List</h3>

 <div class="row mb-3">
    <div class="col-md-6">
      <input
        #searchBox
        type="text"
        class="form-control"
        placeholder="Search"
        (input)="ApplySearch(searchBox.value)"
      />
    </div>
    <div class="col-md-6">
      <select
        class="form-control"
        [(ngModel)]="roleFilter"
        (change)="ApplyFilter(roleFilter)"
      >
        <option value="">All Roles</option>
        <option *ngFor="let role of roles" [value]="role">{{ role }}</option>
      </select>
    </div>
  </div>

  <table class="table table-striped table-bordered">
    <thead class="thead-dark">
      <tr>
        <th (click)="sortData('Id')">
          #
          <span [innerHTML]="getSortIcon('id')"></span>
        </th>
        <th (click)="sortData('firstName')">
          First Name
          <span [innerHTML]="getSortIcon('firstName')"></span>
        </th>
        <th (click)="sortData('lastName')">
          Last Name
          <span [innerHTML]="getSortIcon('lastName')"></span>
        </th>
        <th (click)="sortData('email')">
          Email
          <span [innerHTML]="getSortIcon('email')"></span>
        </th>
        <th (click)="sortData('phoneNumber')">
          Phone
          <span [innerHTML]="getSortIcon('phoneNumber')"></span>
        </th>
        <th (click)="sortData('role')">
          Role
          <span [innerHTML]="getSortIcon('role')"></span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let user of users">
        <td>{{ user.id }}</td>
        <td>{{ user.firstName }}</td>
        <td>{{ user.lastName }}</td>
        <td>{{ user.email }}</td>
        <td>{{ user.phoneNumber }}</td>
        <td>{{ user.role }}</td>
      </tr>
    </tbody>
  </table>

  <nav class="d-flex justify-content-between">
    <button
      class="btn btn-primary"
      [disabled]="page === 1"
      (click)="prevPage()"
    >
      Previous
    </button>
    <span class="align-self-center">Page {{ page }} of {{ totalPages }}</span>
    <button
      class="btn btn-primary"
      [disabled]="page === totalPages"
      (click)="nextPage()"
    >
      Next
    </button>
  </nav>
